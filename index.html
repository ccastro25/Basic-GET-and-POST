<!DOCTYPE html>
<html>
   <head>
      <link rel="stylesheet" href="searchpage.css">
   </head>
   <body>
      <div class="wrapper">
         <div class="header">
            <h1>Compare Prices  </h1>
         </div>
         <div class="aside-1 aside"></div>
         <form onsubmit="getDBInfo(); return false" class="main"> 
         
         <input id ="searchInput" type = "search" name = "searchBar"  placeholder="Enter product to compare" value="">  <br>
         
         <input type = "submit" value = "Cheap Search" class="submitButton">
         </form>
         <div class="aside-2 aside"></div>
      <div  id="table" class="footer"></div>
     
   </div>
      <script>

       
         let resultsDiv = document.getElementById("table");

 async function getDBInfo(val) {
   
      try {
         let searchProduct = document.getElementById('searchInput').value
         let url ="http://localhost:8081/process_get/" + "?"  + new URLSearchParams({serachTerm:searchProduct})
         
         const response = await fetch(url);
         const result  = await response.json();
         resultsDiv.innerText = "Product: "+result[0].ProductName + "Description: "+result[0].Description+" Price: $"+result[0].Price;
         console.log("Success:", result);
      } catch (error) {
         console.error("Error:", error);
      }
}
            

      </script>
   </body>

</html>